language: node_js
node_js:
- '0.12'
sudo: false
before_install:
- npm install -g npm@next
before_script:
- npm install -g grunt-cli
script:
- grunt test
before_deploy:
- grunt replace:version --tag=$TRAVIS_TAG --build=$TRAVIS_BUILD_NUMBER
- npm unpublish emp.ria-jsbuild3@$TRAVIS_TAG
deploy:
  provider: npm
  email: viatsyshyn@gmail.com
  api_key:
    secure: r4fw+Pw5xycVn3LnCqwdkWhyEYhbwekefveQCx6alZR+HWXETmtryT8H9DAbbwh2HKbf0h6dy/0PJ5LkH0N5wwVT799wo4EJYSA5pHrRkteQGR9TTZpHqzI//LyB3W5aa49SnuSDEbnKVgBlUXZg9A49Z/jNYdZxR1+TGAlzOcXh6vlWb/NmM2Vm+dEh/uv9T3OaOAe09ofcRI+QXWONA6r15Fq0qiKwnPSbC8YofAWihyOf1MXy7Pqjcdk5oqW8voyL3lQyaqPhRz3pKFtt1dU4d8onXJxTFVAwrnoqHdM//T0I7zmzG19vb0QJlzQqk8xv1Gzi/hPM0qprkcm0DqC43d75QpVeDynU7SOFbv19bpnF8TWbVffJW6XcJnlZEfIjrUFqfTXE5mUYJpAwQXSgr8vN00i6iJfyOgGoRma3wJB/KTR6yV3fc/f9hUdkV2DTrZU5yZG1i6WMJ8Qi+4FayNKNobqMrfIoM1ctUiBZxsH6W645w32w+0tdAbGkWKjZaH0PS0rQuAs5vgSKWERSzFq2k+7N/vRnTOgrSh78udpoPaPn1JHaYpanesn/7p783yMMqqvgI1MkCUjwQyt54HJSA+QEUs8es8EKsggT2g01pmPpJgUOU7zCMXvleeXbjBgLCxG38lsfk3KFZUHgASao4tlO2cspNJFVfj0=
  skip_cleanup: true
  on:
    tags: true
    repo: viatsyshyn/jsbuild3
